#include<stdio.h>
#include<sys/types.h>
#include<dirent.h>
int main(int argc,char **argv)
{
	struct dirent *pdirinfo;
	DIR *pdir;
	if(argc<2)
		pdir=opendir(".");
	else
		pdir=opendir(argv[1]);
	if(pdir==NULL)
	{
		perror("open dir fail!");
		return -1;
	}
	while((pdirinfo=readdir(pdir))!=NULL)
		printf("%s\n",pdirinfo->d_name);
	closedir(pdir);
	return 0;
}
